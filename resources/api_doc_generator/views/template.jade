doctype 5
html
  head
    include ./_head.jade

  body(data-spy="scroll")
    .container
      header.keystone.row
        .col-md-2
          a(href=".")
            img#cjs_logo(src="resources/cjs_logo_256.png",title="ConstraintJS")
        .col-md-10
          ul.nav.navbar-nav.hidden-xs
            li
              a(href=".") Home
            li
              a(href="tutorial.html") Tutorial
            li
              a(href="api.html",active) API
      .row.alert.alert-warning This API documentation is under construnction and is, at the moment, very rough
      .row
        .col-md-4(role="complimentary")
          .sidebar(data-offset-top="60" data-offset-bottom="200")
            each item in docs
              .row(class='l'+item.level)
                .col-md-12
                  a(href='#'+item.name)=item.short_colloquial
        .col-md-8.content(role="main")
          h1 ConstraintJS API
          each item in docs
            .row(class='l'+item.level,id=item.name)
              .col-md-12.entry
                .panel.panel-default
                  .panel-heading.classname=item.colloquial
                  .panel-body
                    .desc!=item.description
                    if item.calltypes.length > 0
                      table.params
                        tbody
                          each calltype,index in item.calltypes
                            tr.callname
                              td.calldesc(colspan=3)=item.short+'('+calltype.params.map(function(x){return x.name;}).join(", ")+')'
                              each param in calltype.params
                                tr.param
                                  td.name=param.name
                                  td.type=param.types
                                  td.description!=param.description
                            if calltype.returns
                              tr.returns
                                td.static Returns
                                td.type=calltype.returns.types
                                td.description!=calltype.returns.description

                  if item.examples.length > 0
                    .panel-body.examples
                      h4 Examples:
                      each example in item.examples
                        pre.example=example
                  .panel-footer
                    each link in item.sourceLinks
                      a(target="_blank",href=link.link)=" " + link.text

    include ./_footer.jade
